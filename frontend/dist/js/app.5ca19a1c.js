(()=>{var e={6700:(e,s,t)=>{var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":1400,"./gu.js":1400,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function i(e){var s=r(e);return t(s)}function r(e){if(!t.o(a,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=6700},2749:(e,s,t)=>{"use strict";var a=t(9242),i=t(3396);const r={class:"navbar navbar-expand-lg navbar-dark bg-primary"},n={class:"container-fluid"},o=(0,i._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i._)("span",{class:"navbar-toggler-icon"})],-1),l={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},c={class:"navbar-nav"},d={class:"container mt-4"},v=(0,i._)("footer",{class:"text-center text-lg-start bg-light text-muted mt-4"},[(0,i._)("div",{class:"text-center p-4",style:{"background-color":"gainsboro"}})],-1);function m(e,s){const t=(0,i.up)("router-link"),a=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("nav",r,[(0,i._)("div",n,[(0,i.Wm)(t,{to:"/",class:"navbar-brand"},{default:(0,i.w5)((()=>[(0,i.Uk)("Movie Review App")])),_:1}),o,(0,i._)("div",l,[(0,i._)("div",c,[(0,i.Wm)(t,{to:"/",class:"nav-link active"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1}),(0,i.Wm)(t,{to:"/movies",class:"nav-link active"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Movies ")])),_:1})])])])]),(0,i._)("div",d,[(0,i.Wm)(a)]),v])}var u=t(89);const j={},p=(0,u.Z)(j,[["render",m]]),h=p;var g=t(2483);const w={class:"home"},b=(0,i.uE)('<div class="card"><div class="card-header"> Movies </div><div class="card-body"><h5 class="card-title">Movie Review Application</h5><p class="card-text">Welcome to the Application</p></div></div>',1),y=[b];function f(e,s,t,a,r,n){return(0,i.wg)(),(0,i.iD)("div",w,y)}const _={name:"Home"},k=(0,u.Z)(_,[["render",f]]),M=k;var R=t(7139);const z=e=>((0,i.dD)("data-v-677b2d69"),e=e(),(0,i.Cn)(),e),x={class:"card"},D=z((()=>(0,i._)("div",{class:"card-header"}," Movie Results ",-1))),O={class:"card-body"},T={class:"row mb-3"},A={class:"col"},S={class:"d-flex"},U=z((()=>(0,i._)("div",{class:"col"},[(0,i._)("div",{class:"d-flex"})],-1))),C={class:"row row-cols-1 row-cols-md-3 g-4"},P={class:"card"},Z=["src"],q={class:"card-body"},I={class:"card-title fw-bold"},$={key:0,class:"card-text"},W={class:"card-text"},Y=z((()=>(0,i._)("nav",null,null,-1)));function E(e,s,t,r,n,o){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",x,[D,(0,i._)("div",O,[(0,i._)("div",T,[(0,i._)("div",A,[(0,i._)("div",S,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.titleToSearch=e),class:"form-control",placeholder:"Search by title"},null,512),[[a.nr,n.titleToSearch]]),(0,i._)("a",{onClick:s[1]||(s[1]=s=>e.filterMovies("title")),class:"btn btn-primary ms-4"}," Search ")])]),U]),(0,i._)("div",C,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.movies,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"col",key:e._id},[(0,i._)("div",P,[e.poster?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"card-img-top",src:e.poster},null,8,Z)):(0,i.kq)("",!0),(0,i._)("div",q,[(0,i._)("h5",I,(0,R.zw)(e.title),1),e.rated?((0,i.wg)(),(0,i.iD)("p",$," Rating: "+(0,R.zw)(e.rated),1)):(0,i.kq)("",!0),(0,i._)("p",W,(0,R.zw)(e.plot),1),(0,i.Wm)(l,{to:"/movie/"+e._id,class:"btn btn-primary"},{default:(0,i.w5)((()=>[(0,i.Uk)(" View Reviews ")])),_:2},1032,["to"])])])])))),128))])]),Y])}var N=t(4311);class F{static async getMovies(e="",s="title",t=0){const a=await N.Z.get("http://localhost:5000/movies");return a.data}static async getMovie(e){const s=await N.Z.get("http://localhost:5000/movies/${id}");return s.data}static async getRatings(){const e=await N.Z.get("");return e.data}}const H={name:"Movies",data(){return{movies:[],ratings:[],titleToSearch:"",ratingToSearch:"",typeToSearch:"",currentPage:0,entriesPerPage:20,totalPage:0}},created(){this.getMovies(),this.getRatings()},methods:{async getMovies(){let e="";"title"===this.typeToSearch?e=this.titleToSearch:"rated"===this.typeToSearch&&(e=this.ratingToSearch);const s=await F.getMovies(e,this.typeToSearch,this.currentPage);this.totalPages=Math.ceil(s.total_results/this.entriesPerPage)-1,this.movies=s.movies},async getRatings(){this.ratings=await F.getRatings()}}},V=(0,u.Z)(H,[["render",E],["__scopeId","data-v-677b2d69"]]),K=V,L=e=>((0,i.dD)("data-v-71a6994e"),e=e(),(0,i.Cn)(),e),B={class:"card"},G={class:"card-header"},J={class:"card-body"},Q={class:"row"},X={class:"col-md-6 col-sm-12"},ee=["src"],se={class:"col-md-6 col-sm-12"},te={class:"card-text"},ae=L((()=>(0,i._)("hr",null,null,-1))),ie=L((()=>(0,i._)("h3",null,"Reviews",-1))),re={class:"list-group"},ne={class:"card-title"},oe={class:"card-subtitle mb-2 text-muted"},le={key:0,class:"card-text"},ce={key:1,class:"card-text"},de=["onClick"],ve=["onClick"];function me(e,s,t,r,n,o){const l=(0,i.up)("AddReview");return(0,i.wg)(),(0,i.iD)("div",B,[(0,i._)("div",G,(0,R.zw)(n.movie.title),1),(0,i._)("div",J,[(0,i._)("div",Q,[(0,i._)("div",X,[n.movie.poster?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"card-img-top",src:n.movie.poster},null,8,ee)):(0,i.kq)("",!0)]),(0,i._)("div",se,[(0,i._)("p",te,(0,R.zw)(n.movie.plot),1),(0,i._)("div",null,[e.$store.state.user.id?((0,i.wg)(),(0,i.j4)(l,{key:0,movieId:n.movie._id,onUpdateMovieInfo:o.getMovie},null,8,["movieId","onUpdateMovieInfo"])):(0,i.kq)("",!0)]),ae,ie,(0,i._)("ul",re,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.movie.reviews,(e=>((0,i.wg)(),(0,i.iD)("li",{class:"list-group-item pb-3 pt-3",key:e._id},[(0,i._)("h5",ne,"Review by "+(0,R.zw)(e.name),1),(0,i._)("h6",oe,(0,R.zw)(o.getFormatterDate(e.date)),1),e.editing?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",le,(0,R.zw)(e.review),1)),e.editing?((0,i.wg)(),(0,i.iD)("p",ce,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.newReviewMessage=e),type:"text",class:"form-control"},null,512),[[a.nr,n.newReviewMessage]])])):(0,i.kq)("",!0),o.verifyAuthorship(e.user_id)?((0,i.wg)(),(0,i.iD)("a",{key:2,onClick:s=>o.editReview(e),class:"btn btn-primary me-3"}," Edit ",8,de)):(0,i.kq)("",!0),o.verifyAuthorship(e.user_id)?((0,i.wg)(),(0,i.iD)("a",{key:3,onClick:s=>o.deleteReview(e._id),class:"btn btn-danger"}," Delete ",8,ve)):(0,i.kq)("",!0)])))),128))])])])])])}var ue=t(6797);const je={class:"card"},pe=(0,i._)("div",{class:"card-header"}," Add Review ",-1),he={class:"card-body"},ge={class:"mb-3"},we=(0,i._)("label",{class:"form-label"},"Message",-1);function be(e,s,t,r,n,o){return(0,i.wg)(),(0,i.iD)("div",je,[pe,(0,i._)("div",he,[(0,i._)("form",null,[(0,i._)("div",ge,[we,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.message=e),type:"text",class:"form-control"},null,512),[[a.nr,n.message]])]),(0,i._)("a",{onClick:s[1]||(s[1]=e=>o.saveReview()),class:"btn btn-primary"},"Submit")])])])}class ye{static async createReview(e){const s=await N.Z.post("https://movie-reviews-api.vercel.app/api/v1/movies/review",e);return s}static async deleteReview(e){const s=await N.Z["delete"]("https://movie-reviews-api.vercel.app/api/v1/movies/review",{data:e});return s}static async updateReview(e){const s=await N.Z.put("https://movie-reviews-api.vercel.app/api/v1/movies/review",e);return s}}const fe={name:"AddReview",data(){return{message:""}},props:["movieId"],methods:{async saveReview(){if(""!==this.message){const e={review:this.message,name:this.$store.state.user.name,user_id:this.$store.state.user.id,movie_id:this.movieId};await ye.createReview(e),this.message="",this.$emit("updateMovieInfo")}}}},_e=(0,u.Z)(fe,[["render",be]]),ke=_e,Me={name:"Movies",components:{AddReview:ke},data(){return{movie:{poster:"",title:"",rated:"",plot:"",_id:"",reviews:[]},newReviewMessage:""}},created(){this.getMovie()},methods:{async getMovie(){const e=await F.getMovie(this.$route.params.id),s=e.reviews.map((e=>({...e,editing:!1})));e.reviews=s,this.movie=e},getFormatterDate(e){return ue(e).format("Do MMMM YYYY")},verifyAuthorship(e){return!(!this.$store.state.user.id||this.$store.state.user.id!==e)},editReview(e){e.editing?(e.review=this.newReviewMessage,this.saveUpdatedReview(e),e.editing=!1):(this.newReviewMessage=e.review,e.editing=!0)},async saveUpdatedReview(e){const s={review:e.review,name:e.name,user_id:e.user_id,movie_id:e.movie_id,review_id:e._id};await ye.updateReview(s)},async deleteReview(e){const s={user_id:this.$store.state.user.id,review_id:e};await ye.deleteReview(s),this.getMovie()}}},Re=(0,u.Z)(Me,[["render",me],["__scopeId","data-v-71a6994e"]]),ze=Re,xe=[{path:"/",name:"home",component:M},{path:"/movies",name:"Movies",component:K},{path:"/movie/:id",name:"Movie",component:ze}],De=(0,g.p7)({history:(0,g.PO)("/"),routes:xe}),Oe=De;(0,a.ri)(h).use(Oe).mount("#app")}},s={};function t(a){var i=s[a];if(void 0!==i)return i.exports;var r=s[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=e,(()=>{var e=[];t.O=(s,a,i,r)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,i,r]=e[d],o=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(t.O).every((e=>t.O[e](a[l])))?a.splice(l--,1):(o=!1,r<n&&(n=r));if(o){e.splice(d--,1);var c=i();void 0!==c&&(s=c)}}return s}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,i,r]}})(),(()=>{t.d=(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s)})(),(()=>{t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={143:0};t.O.j=s=>0===e[s];var s=(s,a)=>{var i,r,[n,o,l]=a,c=0;if(n.some((s=>0!==e[s]))){for(i in o)t.o(o,i)&&(t.m[i]=o[i]);if(l)var d=l(t)}for(s&&s(a);c<n.length;c++)r=n[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))})();var a=t.O(void 0,[998],(()=>t(2749)));a=t.O(a)})();
//# sourceMappingURL=app.5ca19a1c.js.map